@PART[bluedog_Apollo_CrewPod_5crew]:NEEDS[RealFuels]:AFTER[ROCapsules]
{

	@mass -= 0.15
	
	@MODULE[ModuleFuelTanks]
	{
		@volume += 280

		TANK
		{
			name = Food
			amount = 58.5
			maxAmount = 58.5
		}
		
		TANK
		{
			name = Water
			amount = 38.8
			maxAmount = 38.8
		}

		TANK
		{
			name = Oxygen
			amount = 6214.32
			maxAmount = 6214.32
		}

		TANK
		{
			name = LithiumHydroxide
			amount = 10.815
			maxAmount = 10.815
		}

		//	One waste water tank with a capacity of ~25 kg.
		TANK
		{
			name = WasteWater
			amount = 0
			maxAmount = 25
		}

		TANK
		{
			name = Waste
			amount = 0
			maxAmount = 22.4
		}
	}
}

@PART[bluedog_LM_Ascent_Cockpit]:NEEDS[RealFuels]:AFTER[ROCapsules]
{
	@description ^= :$: Supports a crew of two for up to 3 days of active operations.

	@mass -= 0.04

	@MODULE[ModuleFuelTanks]
	{
		@volume += 165

		TANK
		{
			name = Food
			amount = 23.4
			maxAmount = 35.1
		}

		//	Two water tanks with a capacity of ~20 kg each.

		TANK
		{
			name = Water
			amount = 40
			maxAmount = 40
		}

		//	Two oxygen tanks with a capacity of ~1.1 kg each.

		TANK
		{
			name = Oxygen
			amount = 1563.4
			maxAmount = 1563.4
		}

		TANK
		{
			name = LithiumHydroxide
			amount = 4.1
			maxAmount = 6.2
		}

		TANK
		{
			name = Waste
			amount = 0
			maxAmount = 3.2
		}

		TANK
		{
			name = WasteWater
			amount = 0
			maxAmount = 29.3
		}
	}
}

@PART[bluedog_LM_Descent_Tanks]:NEEDS[RealFuels]:AFTER[ROCapsules]
{
	@mass -= 0.194

	@MODULE[ModuleFuelTanks]
	{
		@volume += 310

		//	Two water tanks with a capacity of ~75 kg each (second tank for J missions).

		TANK
		{
			name = Water
			amount = 0
			maxAmount = 150
		}

		//	Two oxygen tanks with a capacity of ~22 kg each (second tank for J missions).

		TANK
		{
			name = Oxygen
			amount = 15441.4
			maxAmount = 30882.9
		}
	}
}

@PART[bluedog_Apollo_CrewPod_5crew]:NEEDS[FeatureHabitat]:AFTER[zzzKerbalism]
{
	@MODULE[Habitat]
	{
		%volume = 6.2	//override default values to account for extra space with removed cargo racks
		%surface = 15.71	 //guesstimate
	}
}

@PART[bluedog_LM_Ascent_Cockpit]:NEEDS[FeatureHabitat]:AFTER[zzzKerbalism]
{
	@MODULE[Habitat]
	{
		%volume = 4.5
		%surface = 18.1		 //guesstimate
		%max_pressure = 0.35
	}
}

@PART[bluedog_Apollo_CrewPod_5crew]:NEEDS[FeatureScience,RP-0]:BEFORE[RP-0-Kerbalism] { %capsuleTier = Mature }

@PART[bluedog_Apollo_CrewPod_5crew|bluedog_LM_Ascent_Cockpit]:NEEDS[FeatureScience,RP-0]:FOR[RP-0-Kerbalism]
{
	!MODULE[HardDrive] {}
	MODULE
	{
		name = HardDrive
		title = Data Storage
		dataCapacity = #$@KERBALISM_HDD_SIZES/apollo/data$
		sampleCapacity = #$@KERBALISM_HDD_SIZES/apollo/samples$
	}
}

@PART[bluedog_Apollo_Block4_MissionModule]:NEEDS[FeatureScience]:AFTER[ROCapsules]
{
	MODULE
	{
		name = Laboratory
		ec_rate = 0.07
		analysis_rate = 0.0000025
		researcher = Scientist
	}
}

@PART[bluedog_Apollo_Block4_MissionModule]:NEEDS[FeatureHabitat]:AFTER[zzzKerbalism]
{
	@MODULE[Habitat]
	{
		%volume = 16.8	//According to ETS wiki
		%surface = 33.0	//guesstimate
	}
	MODULE
	{
		name = ProcessController
		resource = _PressureControlOxygen
		title = O2 Pressure Controller
		capacity = 10
		running = true
	}
}

@PART[bluedog_Apollo_CrewPod_5crew]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.67
  %capsuleOrigin = US

  @MODULE[ModuleCommand]
  {
	@RESOURCE[ElectricCharge]
	{
	  @rate -= 0.400  //Remove Climatization and LS power draw
	}
  }
}

@PART[bluedog_LM_Ascent_Cockpit]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  %capsuleScrubbers = true
  %scrubberCapacity = 1.67
  %capsuleOrigin = US

  @MODULE[ModuleCommand]
  {
	@RESOURCE[ElectricCharge]
	{
	  @rate -= 0.2  //Remove Climatization and LS power draw
	}
  }
}

@PART[bluedog_Apollo_Block3_SM]:NEEDS[ProfileRealismOverhaul]:AFTER[RealismOverhaul]
{
  MODULE
  {
	name = ProcessController
	resource = _PressureControlOxygen
	title = O2 Pressure Controller
	capacity = 5
	running = true
  }

  processConfigureExclude = true
  MODULE
  {
	name = Configure
	title = Processes
	slots = 1

	SETUP
	{
	  name = O2 Pressure Controller
	  desc = Use <b>Oxygen</b> to maintain the internal atmosphere at a comfortable pressure.
	  tech = crewSurvivability
			
	  MODULE
	  {
		type = ProcessController
		id_field = resource
		id_value = _PressureControlOxygen
	  }
	}
  }
}