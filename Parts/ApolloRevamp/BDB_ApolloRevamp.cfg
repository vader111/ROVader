@PART[ROC-ApolloCMBlockIII|ROC-ApolloHGABlockIII|ROC-ApolloHGABlockV|ROC-ApolloMissionModule|ROC-ApolloMissionModule4|ROC-ApolloHSBlockIII+|ROC-ApolloSMBlockIII|ROC-ApolloSolarBlockV|ROC-ApolloDecoupler|ROC-ApolloDockingProbe|ROC-ApolloEngineBlockIII|ROC-ApolloEngineBlockV|ROC-LEMAscent|ROC-LEMDecoupler|ROC-LEMDescent|ROC-LEM-LMDE|ROE-LMAE|ROE-LMDE|ROE-AJ10-137]:FOR[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%rovDeprecate = true
}

@PART[bluedog_Apollo_Block3_MissionModule]:AFTER[RealismOverhaul]:NEEDS[Bluedog_DB]
{
	%rovDeprecate = true
}

//	============================================================================
//	Engines
//	============================================================================

@PART[bluedog_LM_Ascent_Engine]:AFTER[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Ascent Propulsion System (LMAE)
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
	%engineType = LMAE
}

@PART[bluedog_LM_Descent_Engine]:AFTER[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Descent Propulsion System (LMDE)
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
	%engineType = LMDE
}

@PART[bluedog_Apollo_Block2_SPS]:AFTER[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = AJ-10-137(Service Propulsion System)
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
	%engineType = AJ10_137
}

//	============================================================================
//	Block II
//	============================================================================

@PART[bluedog_Apollo_LES]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	%category = Engine
	@title = Apollo Launch Escape System (LES)
	%manufacturer = Lockheed
	@description = The Apollo launch escape system (LES) purpose was to abort the mission by pulling the Command Module (the crew cabin) away from the launch vehicle in an emergency, such as a pad fire before launch, guidance failure, or launch vehicle failure likely to lead to an imminent explosion.
	@mass = 2.212
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
	%fuelCrossFeed = false

	%stageOffset = 1
	%childStageOffset = 1
	%breakingForce = 250
	%breakingTorque = 250
	%crashTolerance = 8

	!DRAG_CUBE,* {}
	!RESOURCE,* {}
	!MODULE[ModuleEnginesFX],* {}
	!MODULE[ModuleBdbLesController] {}
	!MODULE[ModuleBdbPebkacLiftingSurface] {}
	!MODULE[ModuleDecouple] {}

	@EFFECTS
	{
		!running_pitchControl {}
		!running_escape {}
		!running_jettison {}
	}

	MODULE
	{
		name = ModuleDecouple
		ejectionForce = 50
		explosiveNodeID = bottom
	}

	MODULE
	{
		name = ModuleEnginesRF
		THRUST_TRANSFORM
		{
			name = firePoint
			multiplier = 0.8668
		}
		THRUST_TRANSFORM
		{
			name = jetFX
			multiplier = 0.1332
		}
		powerEffectName = running
		throttleLocked = True
		exhaustDamage = False
		ignitionThreshold = 0.1
		minThrust = 781.4
		maxThrust = 781.4
		heatProduction = 84
		useEngineResponseTime = False
		engineAccelerationSpeed = 0.0
		allowShutdown = False
		staging = false
		
		%ullage = False
		%pressureFed = False
		%ignitions = 1
		
		PROPELLANT
		{
			name = HTPB
			ratio = 1.0
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 172
			key = 1 164
			key = 6 0.001
		}
		ActivatesEvenIfDisconnected = true	
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = HTPB
		volume = 983.38
		basemass = -1
	}
}

@PART[bluedog_Apollo_Block2_SM]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Block II Service Module
	%manufacturer = North American Aviation
	@description = The Apollo Service Module contains the main propellant tanks, the fuel cells, life support and everything else that it is needed for a flight to the Moon. Connect this directly to the Command Module.
	@mass = 7.22 // for some reason, this part's mass is terribly broken and is growing as a function: 0.4x+0.699848, thus this should result in ~3.588
	%maxTemp = 673.15
	%skinMaxTemp = 773.15

	!RESOURCE,* {}
	!MODULE[ModuleB9PartSwitch]:HAS[#moduleID[configSwitch]] {}
	!MODULE[ModuleResourceConverter] {}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 17858
		basemass = -1
		TANK
		{
			name = ElectricCharge
			amount = 0
			maxAmount = 43200
		}
		TANK
		{
			name = LqdHydrogen
			amount = 367
			maxAmount = 367
			isDewar = True
		}
		TANK
		{
			name = LqdOxygen
			amount = 254
			maxAmount = 254
			isDewar = True
		}
		TANK
		{
			name = Water
			amount = 100
			maxAmount = 100
		}
		TANK
		{
			name = Aerozine50
			amount = 7942
			maxAmount = 7942
		}
		TANK
		{
			name = MMH
			amount = 270.5
			maxAmount = 270.5
		}
		TANK
		{
			name = NTO
			amount = 8051
			maxAmount = 8051
		}
		TANK
		{
			name = Helium
			amount = 165810
			maxAmount = 165810
		}
	}
}

@PART[bluedog_Apollo_ParachuteCover]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo CM Forward Heat Shield
	%manufacturer = Rockwell International
	@description = The forward heat shield for the Apollo Command Module.
	@mass = 0.104

	//Thermal Stuff
	//Skin made of Stainless steel, coated with ablative layer of varying thickness, and Klapton insulation
	//Peak temp on HS: ~3000 K
	//Peak temp on Walls: ~2000 K
	//Peak temp on forward surfaces: ~1100 K

	%maxTemp = 973.15
	%skinMaxTemp = 3000					//Ablative coating wrapped around sides of Apollo to account for extreme flux.
	%emissiveConstant = 0.4				//Metallicized Klapton coating.
	%heatConductivity = 1.0				//All conductivity. Leave this alone for now
	%thermalMassModifier = 1.0			//Thermal mass. Leave this alone for now
	%skinInternalConductionMult = 0.005	//Skin-to-int conductivity. Skin coated in ablator, and isolated from Aluminum hull with very thick insulation layer.
	%skinMassPerArea = 7.9				//1 mm thick stainless, 7.9 kg/m^2?
	%skinThermalMassModifier = 1.0		//Skin thermal mass. Leave this alone for now
	%skinSkinConductionMult = 0.05		//Skin well insulated and connected with slip-joints. Probably not much conduction.

	@MODULE[ModuleDecouple]
	{
		@ejectionForce = 20
	}
}

//	================================================================================
//	Override RO global settings to get our temperatures back
//	================================================================================
@PART[bluedog_Apollo_ParachuteCover]:AFTER[RealismOverhaul]
{
	@skinMaxTemp = 3000
}

@PART[bluedog_Apollo_ProbeDockingPort]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Docking Mechanism Probe
	%manufacturer = Rockwell International
	@description = Structural adapter for Apollo parachutes and docking port. Place on top of the capsule, add parachutes in 3x symmetry. The Active Docking Mechanism goes on top. Includes a decoupler for the docking mechanism, to clear the way for the parachutes.
	@mass = 0.036
	%maxTemp = 973.15
	%skinMaxTemp = 1073.15

	!MODULE[ModuleDecouple],* {}
	!MODULE[ModuleDockingNode] {}

	MODULE
	{
		name = ModuleDockingNode
		referenceAttachNode = top
		stagingEnabled = False
		nodeType = Apollo
		gendered = True
		genderFemale = False
		acquireForce = 0.5
		acquireMinFwdDot = 0.8
		acquireminRollDot = -3.40282347E+38
		acquireRange = 0.25
		acquireTorque = 0.5
		captureMaxRvel = 0.1
		captureMinFwdDot = 0.998
		captureMinRollDot = -3.40282347E+38
		captureRange = 0.05
		minDistanceToReEngage = 0.25
		undockEjectionForce = 0.1
	}
}

@PART[bluedog_Apollo_ConeDockingPort]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Drogue Docking Port
	%manufacturer = Rockwell International
	@description = This is the drogue (accepting) part of the Apollo Docking System. It will only work with the Apollo Command Module Probe.
	@mass = 0.2
	%maxTemp = 973.15
	%skinMaxTemp = 1073.15

	!MODULE[ModuleDockingNode] {}

	MODULE
	{
		name = ModuleDockingNode
		referenceAttachNode = top
		nodeType = Apollo
		gendered = True
		genderFemale = True
		acquireForce = 0.5
		acquireMinFwdDot = 0.8
		acquireminRollDot = -3.40282347E+38
		acquireRange = 0.25
		acquireTorque = 0.5
		captureMaxRvel = 0.1
		captureMinFwdDot = 0.998
		captureMinRollDot = -3.40282347E+38
		captureRange = 0.05
		minDistanceToReEngage = 0.25
		undockEjectionForce = 0.1
	}
}

@PART[bluedog_Apollo_MainChute]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Main Parachute
	%manufacturer = Rockwell International
	@description = The main parachute pack of the Apollo Command Module. Attach this to the central top node before placing the Forward Heat Shield.
	@mass = 0.175
	%maxTemp = 973.15
	%skinMaxTemp = 1073.15

	!MODULE[ModuleBdbCutDrogue] {}
	!MODULE[ModuleDragModifier] {}
	!MODULE[ModuleParachute] {}

	MODULE:NEEDS[RealChute]
	{
		name = RealChuteModule
		caseMass = 0.1106
		mustGoDown = True
		spareChutes = 0
		cutSpeed = 0.5

		PARACHUTE
		{
			parachuteName = canopy
			capName = Cap
			preDeploymentAnimation = partialDeploy
			deploymentAnimation = fullDeploy
			material = Nylon
			minIsPressure = False
			minPressure = 0.01
			preDeployedDiameter = 19.1
			preDeploymentSpeed = 6.0
			minDeployment = 3350
			deployedDiameter = 38.1
			deploymentSpeed = 10.0
			deploymentAlt = 3000
			cutAlt = 0
		}
	}

	MODULE:NEEDS[!RealChute]
	{
		name = ModuleDragModifier
		dragCubeName = SEMIDEPLOYED
		dragModifier = 0.9375
	}

	MODULE:NEEDS[!RealChute]
	{
		name = ModuleDragModifier
		dragCubeName = DEPLOYED
		dragModifier = 3.125
	}
}

@PART[bluedog_Apollo_DrogueChute]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Drogue Parachute
	%manufacturer = Rockwell International
	@description = The drogue parachute pack is meant to slow down the Apollo spacecraft at a high altitude in preparation for the deployment of the main parachute pack. Attach this to the front node before placing the Forward Heat Shield.
	@mass = 0.25
	%maxTemp = 973.15
	%skinMaxTemp = 1073.15

	!MODULE[ModuleBdbCutDrogue] {}
	!MODULE[ModuleDragModifier] {}
	!MODULE[ModuleParachute] {}

	MODULE:NEEDS[RealChute]
	{
		name = RealChuteModule
		caseMass = 0.0206
		timer = 0
		mustGoDown = True
		spareChutes = 0
		cutSpeed = 0.5
		secondaryChute = False

		PARACHUTE
		{
			parachuteName = canopy
			capName = Cap
			preDeploymentAnimation = partialDeploy
			deploymentAnimation = fullDeploy
			material = Nylon
			minIsPressure = False
			minPressure = 0.01
			preDeployedDiameter = 5.2
			preDeploymentSpeed = 1.6
			minDeployment = 7625
			deployedDiameter = 10.0
			deploymentSpeed = 10.0
			deploymentAlt = 7315
			cutAlt = 3350
		}
	}

	MODULE:NEEDS[!RealChute]
	{
		name = ModuleDragModifier
		dragCubeName = SEMIDEPLOYED
		dragModifier = 0.78125
	}

	MODULE:NEEDS[!RealChute]
	{
		name = ModuleDragModifier
		dragCubeName = DEPLOYED
		dragModifier = 1.25
	}
}

@PART[bluedog_Apollo_MainChute]:AFTER[zzzRealismOverhaul]
{
	// RO forces all RealChuteModules to minDeploy 5000, deploy 1000,
	// Get back our historical numbers
	@MODULE[RealChuteModule]
	{
		@PARACHUTE
		{
			@minDeployment = 3350
			@deploymentAlt = 3000
		}
	}	 
}

@PART[bluedog_Apollo_DrogueChute]:AFTER[zzzRealismOverhaul]
{
	// RO forces all RealChuteModules to minDeploy 5000, deploy 1000,
	// which would make the drogue cut before it even deploys. Get back
	// our historical numbers
	@MODULE[RealChuteModule]
	{
		@PARACHUTE
		{
			@minDeployment = 7525
			@deploymentAlt = 7315
		}
	}	 
}

@PART[bluedog_Apollo_*Chute]:FOR[RealismOverhaul]:NEEDS[RealChute]
{
	EFFECTS
	{
		rcpredeploy
		{
			AUDIO
			{
				channel = Ship
				clip = sound_parachute_open
				volume = 1
			}
		}
		rcdeploy
		{
			AUDIO
			{
				channel = Ship
				clip = sound_parachute_single
				volume = 1
			}
		}
		rccut
		{
			AUDIO
			{
				channel = Ship
				clip = RealChute/Sounds/sound_parachute_cut
				volume = 1
			}
		}
		rcrepack
		{
			AUDIO
			{
				channel = Ship
				clip = RealChute/Sounds/sound_parachute_repack
				volume = 1
			}
		}
	}
}

@PART[bluedog_Apollo_Decoupler]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Command/Service Module Decoupler
	%manufacturer = Rockwell International
	@description = This is used to decouple the Command Module from the Service Module prior to reentry. This one has been seperated from the Service Module, to allow you to attatch whatever you want to your Apollo capsule.
	@mass = 0.9504
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
	%stagingIcon = DECOUPLER_VERT

	@MODULE[ModuleBdbDecouplerAnimation]
	{
		@waitForAnimation = 0.1
	}

	@MODULE[ModuleDecouple]
	{
		@ejectionForce = 150
	}

	!MODULE[ModuleToggleCrossfeed] {}
	!MODULE[ModuleTestSubject] {}
}

@PART[bluedog_Apollo_DockingSpotlight]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Docking Floodlight
	%manufacturer = Rockwell International
	@description = Essentially a pen light glued to a flap, this light (traditionally mounted to the decoupler ring on the Apollo CSM) swings out to provide illumination for docking/berthing operations.
	@mass = 0.002
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

@PART[bluedog_Apollo_EVAFloodlight]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Docking Floodlight
	%manufacturer = Rockwell International
	@description = Essentially a pen light on the end of a straw, this light (traditionally mounted to the decoupler ring on the Apollo CSM) swings out to provide illumination to aid kerbonauts on EVAs.
	@mass = 0.005
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

@PART[bluedog_Apollo_EngineMount]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo SM Engine Mount
	%manufacturer = Rockwell International
	@description = Mounting plate for attaching a single engine to Apollo Service Module. Includes a node just below the top rim for attaching the Saturn SLA as well as a mounting point for the high gain antenna system.
	@mass = 0.15
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

//	============================================================================
//	Block III
//	============================================================================

@PART[bluedog_Apollo_CrewPod_5crew]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@buoyancy = 1.1
	@CoLOffset = 0.0, 0.0, 0.0
	@title = Apollo Block III+ Command Module
	%manufacturer = Rockwell International
	@description = Significant changes were made to better adapt Apollo to its new role as a crew shuttle for LEO, and the internal volume was modified to fit 5 crew for reentry. Be sure to bring extra living space by attaching the Mission Module to dock with after orbiting. By only using the Command Module, you will have resources for 5 crew for 72 hours. FICTIONAL (Eyes Turned Skyward)
	@mass = 4.0	//-150 kg for 3 inflatable floats
	@crashTolerance = 10
	%stagingIcon = COMMAND_POD

	//Thermal Stuff
	//Skin made of Stainless steel, coated with ablative layer of varying thickness, and Klapton insulation
	//Peak temp on HS: ~3000 K
	//Peak temp on Walls: ~2000 K
	//Peak temp on forward surfaces: ~1100 K
	%maxTemp = 973.15
	%skinMaxTemp = 3000					//Ablative coating wrapped around sides of Apollo to account for extreme flux.
	%emissiveConstant = 0.4				//Metallicized Klapton coating.
	%heatConductivity = 1.0				//All conductivity. Leave this alone for now
	%thermalMassModifier = 1.0			//Thermal mass. Leave this alone for now
	%skinInternalConductionMult = 0.005	//Skin-to-int conductivity. Skin coated in ablator, and isolated from Aluminum hull with very thick insulation layer.
	%skinMassPerArea = 7.9				//1 mm thick stainless, 7.9 kg/m^2?
	%skinThermalMassModifier = 1.0		//Skin thermal mass. Leave this alone for now
	%skinSkinConductionMult = 0.05		//Skin well insulated and connected with slip-joints. Probably not much conduction.

	!EFFECTS,* {}
	!RESOURCE,* {}
	!MODULE[ModuleConductionMultiplier] {}
	!MODULE[ModuleB9PartSwitch] {}
	!MODULE[ModuleLiftingSurface] {}
	!MODULE[ModuleBdbRotateInternal] {}

	@MODULE[ModuleCommand]
	{
		RESOURCE
		{
			name = ElectricCharge
			rate = 1.6
		}
		@minimumCrew = 0
	}

	MODULE
	{
		name = AdjustableCoMShifter
		DescentModeCoM = 0, 0, 0.17	//Apollo should reenter "upside-down" to protect crew hatch
	}

	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}

	MODULE
	{
		name:NEEDS[!DeadlyReentry] = ModuleAblator
		name:NEEDS[DeadlyReentry] = ModuleHeatShield
		ablativeResource = Ablator
		outputResource = CharredAblator
		outputMult = 0.8
		lossExp = -25000
		lossConst = 150
		pyrolysisLossFactor = 145833
		ablationTempThresh = 1250
		reentryConductivity = 0.0025
		depletedMaxTemp:NEEDS[DeadlyReentry] = 1200
		infoTemp = 3000
	}

	RESOURCE
	{
		name = Ablator
		maxAmount = 10
		amount = 10
	}

	RESOURCE
	{
		name = CharredAblator
		maxAmount = 8
		amount = 0
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 550.0
		basemass = -1
		TANK
		{
			name = ElectricCharge
			amount = 12096
			maxAmount = 12096
		}
		TANK
		{
			name = MMH
			amount = 46
			maxAmount = 46
		}
		TANK
		{
			name = NTO
			amount = 55
			maxAmount = 55
		}
		TANK
		{
			name = Helium
			amount = 1010
			maxAmount = 1010
		}
	}

	@MODULE[ModuleRCSFX]
	{
		@thrusterPower = 0.415
		@resourceFlowMode = STACK_PRIORITY_SEARCH
		PROPELLANT
		{
			name = MMH
			ratio = 0.4557
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.5443
		}
		PROPELLANT
		{
			name = Helium
			ratio = 10.0
			ignoreForIsp = True
		}
		@atmosphereCurve
		{
			@key,0 = 0 274
			@key,1 = 1 137
			key = 4 0.001
		}
	}
}


//	================================================================================
//	Override RO global settings to get our temperatures back
//	================================================================================
@PART[bluedog_Apollo_CrewPod_5crew]:AFTER[RealismOverhaul]
{
	@skinMaxTemp = 3000		//Keep this lower to "discourage" attempting reentry without HS
}

@PART[bluedog_Apollo_CrewPod_5crew]:BEFORE[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}
	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 3.0		//Guess based on Block II
		RFBand = S		//Default to S-band
	}
}

@INTERNAL[bdbKP0110internal2]:BEFORE[RealismOverhaul]
{
	%scaleAll = 1.553, 1.553, 1.553
	@MODULE[InternalSeat],*
	{
		%kerbalScale = 1.25, 1.25, 1.25
		%kerbalOffset = 0.0, 0.0, 0.0
		%kerbalEyeOffset = 0.0, 0.0, 0.0
	}
}

@INTERNAL[bdbKP0110internal2RPM]:BEFORE[RealismOverhaul]:NEEDS[RasterPropMonitor]
{
	%scaleAll = 1.553, 1.553, 1.553
	@MODULE[InternalSeat],*
	{
		%kerbalScale = 1.25, 1.25, 1.25
		%kerbalOffset = 0.0, 0.0, 0.0
		%kerbalEyeOffset = 0.0, 0.0, 0.0
	}
}

@PART[bluedog_Apollo_Block3_highGain]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Block III High Gain Antenna
	%manufacturer = Rockwell International
	@description = A collapsable relay antenna. Intended to be placed on the mounting bracket of the Apollo Service Engine Block III. FICTIONAL (Eyes Turned Skyward)
	@mass = 0.01
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

@PART[bluedog_Apollo_Block3_highGain]:BEFORE[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}
	MODULE
	{
		name = ModuleRealAntenna
		antennaDiameter = 0.9	//Guess, no documentation
		RFBand = S	//Default to S-band
	}
}

@PART[bluedog_Apollo_Heatshield]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Block III+ Heatshield
	%manufacturer = Rockwell International
	@description = LEO Heatshield for the Apollo Block III+ Capsule. A lighter heat shield for use with LEO operations.
	@mass = 0.15
	@maxTemp = 2600
	@crashTolerance = 20

	%skinMaxTemp = 3600
	%maxTemp = 2600
	%emissiveConstant = 0.4
	%thermalMassModifier = 1.0
	%skinMassPerArea = 4

	!MODULE[ModuleAblator] {}
	!MODULE[ModuleTestSubject] {}
	!RESOURCE,* {}
	!DRAG_CUBE,* {}

	//use new heat shield tagging system to configure the shield instead
	heatShieldDiameter = 3.91
	heatShieldTag = Lunar
	resetHeatShieldAblator = True
	resetHeatShieldMass = True
	
	MODULE
	{
		name = ModuleAblator
		charModuleName = HeatShieldCharAnim
		charMin = 0
		charMax = 1
	}
}

@PART[bluedog_Apollo_Block3_SM]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Block III+/IV Service Module
	%manufacturer = Rockwell International
	@description = Significant changes were made to better adapt Apollo to its new role as a crew shuttle for LEO and the Block III Service Module was decreased in size and weight. Built to use additional payload allowed by Saturn M02 compared to Saturn IC, Apollo Block IV is built on an enhanced-capacity service module, common with Aardvark Block II (Note - AARDV Block II SM holds 3500 kg of propellant, while Apollo Block IV SM holds 2000 kg of propellant). FICTIONAL (Eyes Turned Skyward)
	@mass = 3.1
	%maxTemp = 673.15
	%skinMaxTemp = 773.15

	!RESOURCE,* {}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 6200.0
		basemass = -1
		TANK
		{
			name = Aerozine50
			amount = 855.0
			maxAmount = 855.0
		}
		TANK
		{
			name = NTO
			amount = 850.0
			maxAmount = 855.0
		}
		TANK
		{
			name = MMH
			amount = 100
			maxAmount = 100
		}
		TANK
		{
			name = Helium
			amount = 24000
			maxAmount = 24000
		}
		TANK
		{
			name = ElectricCharge
			amount = 540000
			maxAmount = 540000
		}
	}
}

//	============================================================================
//	Block IV+
//	============================================================================

@PART[bluedog_Apollo_Block4_MissionModule]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Block IV Mission Module
	%manufacturer = Rockwell International
	@description = Following the introduction of more capable lifters for crewed LEO missions, the venerable Apollo Block III+ mission module was replaced with a larger can. Includes a larger attachment node on top for using larger androgynous docking ports. Place it upside down in place of the lunar module, with docking ports on each end. Extract with the CSM after circularization. FICTIONAL (Eyes Turned Skyward)
	@mass = 4.014	//4500kg - 286 - 200 of docking ports
	%maxTemp = 673.15
	%skinMaxTemp = 773.15

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 3000
		basemass = -1
	}
}

@PART[bluedog_Apollo_Block5_highGain]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Block V High Gain Antenna
	%manufacturer = Rockwell International
	@description = A collapsible relay antenna consisting of a high gain dish, for transmitting the many exciting things you've discovered. Intended to be placed on the mounting bracket of the Apollo Service Engine Block V. FICTIONAL (Eyes Turned Skyward)
	@mass = 0.025
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

@PART[bluedog_Apollo_Block5_highGain]:BEFORE[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}
	MODULE
	{
		name = ModuleRealAntenna
		antennaDiameter = 1.5	//Guess, no documentation
		RFBand = S	//Default to S-band
	}
}

@PART[bluedog_Apollo_Block5_SolarPanel]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Block V Solar Array
	%manufacturer = Boeing-Grumman
	@description = Extendable sun-tracking Level 3 solar panel used for the Block V Apollo CSM. 8.05m^2. FICTIONAL (Eyes Turned Skyward)
	%maxTemp = 673.15
	%skinMaxTemp = 773.15

	useSolarConfig = true
	solarUseMass = true
	SolarConfig
	{
		area = 8.05
		level = 5
		type = tracking
	}
}

@PART[bluedog_Apollo_CADS_active]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = CADS Docking Port (Active)
	%manufacturer = RKK Energiya
	@description = Common Androgynous Docking Port. Developed to eliminate the limitations of the gendered Apollo docking system, as well as provide a larger passageway for delivering cargo. Equipped with a deployable capture ring to dampen impact. Permanent station ports can use the passive version, which is simpler and lighter.
	@mass = 0.311	//active CBM Type II
	%maxTemp = 973.15
	%skinMaxTemp = 1073.15

	@MODULE[ModuleDockingNode]
	{
		%acquireForce = 0.5 // 2
		%acquireMinFwdDot = 0.8 // 0.7
		%acquireminRollDot = -3.40282347E+38
		%acquireRange = 0.25 // 0.5
		%acquireTorque = 0.5 // 2.0
		%captureMaxRvel = 0.1 // 0.3
		%captureMinFwdDot = 0.998
		%captureMinRollDot = -3.40282347E+38
		%captureRange = 0.05 // 0.06
		%minDistanceToReEngage = 0.25 // 1.0
		%undockEjectionForce = 0.1 // 10
	}
}

@PART[bluedog_Apollo_CADS_passive]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = CADS Docking Port (Passive)
	%manufacturer = RKK Energiya
	@description = Common Androgynous Docking System, passive version intended to mate with active counterparts. Useful for permanent fixtures that won't have to form the active docking partner, such as berthing ports on station modules.
	@mass = 0.2	//passive CBM
	%maxTemp = 973.15
	%skinMaxTemp = 1073.15

	@MODULE[ModuleDockingNode]
	{
		%acquireForce = 0.5 // 2
		%acquireMinFwdDot = 0.8 // 0.7
		%acquireminRollDot = -3.40282347E+38
		%acquireRange = 0.25 // 0.5
		%acquireTorque = 0.5 // 2.0
		%captureMaxRvel = 0.1 // 0.3
		%captureMinFwdDot = 0.998
		%captureMinRollDot = -3.40282347E+38
		%captureRange = 0.05 // 0.06
		%minDistanceToReEngage = 0.25 // 1.0
		%undockEjectionForce = 0.1 // 10
	}
}

@PART[bluedog_Apollo_RCS_3Way]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo 3-Way RCS Block
	%manufacturer = Rocketdyne
	@description = This attitude and translation thruster pack was developed for the Apollo program. This one comes in a three-way mounting, for all your three-way needs.
	@mass = 0.01
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
	%stagingIcon = RCS_MODULE

	!EFFECTS,* {}

	@MODULE[ModuleRCS*]
	{
		%stagingEnabled = True
		%resourceFlowMode = STACK_PRIORITY_SEARCH
		%thrusterPower = 0.445
		!resourceName = DELETE
		{
			name = MMH
			ratio = 0.5073
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.4927
		}
		PROPELLANT
		{
			name = Helium
			ratio = 10.0
			ignoreForIsp = True
		}
		!atmosphereCurve,* {}
		atmosphereCurve
		{
			key,0 = 0 278
			key,1 = 1 168
		}
	}
}

@PART[bluedog_Apollo_RCS_Quad]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Service Module RCS Block
	%manufacturer = Rocketdyne
	@description = The attitude control thruster blocks of the Apollo Service Module (SM). Four of these allow full three-axis attitude control and translation of the Apollo CSM.
	@mass = 0.014
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
	%stagingIcon = RCS_MODULE

	!EFFECTS,* {}

	@MODULE[ModuleRCS*]
	{
		%stagingEnabled = True
		%resourceFlowMode = STACK_PRIORITY_SEARCH
		%thrusterPower = 0.445
		!resourceName = DELETE
		PROPELLANT
		{
			name = MMH
			ratio = 0.5073
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.4927
		}
		PROPELLANT
		{
			name = Helium
			ratio = 10.0
			ignoreForIsp = True
		}
		!atmosphereCurve,* {}
		atmosphereCurve
		{
			key,0 = 0 278
			key,1 = 1 168
		}
	}
}

@PART[bluedog_Apollo_RCS_Sideways]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Linear RCS Thruster
	%manufacturer = Rocketdyne
	@description = This attitude and translation thruster pack was developed for the Apollo program. This one comes in a single mount, for use on the top of the AARDV and other places.
	@mass = 0.003
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
	%stagingIcon = RCS_MODULE

	!EFFECTS,* {}

	@MODULE[ModuleRCS*]
	{
		%stagingEnabled = True
		%resourceFlowMode = STACK_PRIORITY_SEARCH
		%thrusterPower = 0.445
		!resourceName = DELETE
		PROPELLANT
		{
			name = MMH
			ratio = 0.4973
		}
		PROPELLANT
		{
			name = MON3
			ratio = 0.5027
		}
		PROPELLANT
		{
			name = Helium
			ratio = 10.0
			ignoreForIsp = True
		}
		!atmosphereCurve,* {}
		atmosphereCurve
		{
			key,0 = 0 278
			key,1 = 1 168
		}
	}
}

@PART[bluedog_Apollo_ScimitarAntenna]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Scimitar Antenna
	%manufacturer = Rockwell International
	@description = This interesting device is known as a scimitar antenna. It is a curved antenna inside of an aerodynamic casing allowing it used while travelling though the atmosphere or as backup to a high gain antenna. And we think it looks cool. Place in 2x symmetry on the Apollo block II Service Module.
	@mass = 0.002
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

//	============================================================================
//	AARDV
//	============================================================================

@PART[bluedog_Apollo_AARDV_Cargo_Block1]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = AARDV Block II Cargo Module
	%manufacturer = Rockwell International
	@description = As the lifetime of stations increased from months to years, it became impossible to rely solely on supplies brought up using the limited space inside Apollo capsules. This is the cargo volume for the AARDV Block I automated resupply ship, the standardized cargo vessel. FICTIONAL (Eyes Turned Skyward)
	@mass = 4.0	//4500kg - 286 - 200 of docking ports
	%maxTemp = 673.15
	%skinMaxTemp = 773.15

	!RESOURCE,* {}
	!MODULE[ModuleInventoryPart] {}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 24000
		basemass = -1
	}

	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 6000
		externalAccess = true
		internalAccess = true
		slotsX = 6
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}

	MODULE:NEEDS[KIS]
	{
		name = ModuleKISItem
		volumeOverride = 8000
		editorItemsCategory = false
	}
}

@PART[bluedog_Apollo_AARDV_Core]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = AARDV Block II Avionics
	%manufacturer = Rockwell International
	@description = Control core for AARDV Block II spacecraft. Goes between the cargo module and service module, and provides control and guidance for resupply vehicles and tugs.
	@mass = 0.4
	%maxTemp = 673.15
	%skinMaxTemp = 773.15

	!RESOURCE,* {}
}

@PART[bluedog_Apollo_AARDV_Core]:BEFORE[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}
	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 1.5
		RFBand = UHF
	}
}

@PART[bluedog_Apollo_AARDV_Nose]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = AARDV Nose Adapter
	%manufacturer = Rockwell International
	@description = Small cone to adapt the AARDV-CRM's top node to the Apollo Docking Mechanism.
	@mass = 0.025
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

@PART[bluedog_Apollo_AARDV_Plate]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Apollo Structural Adapter
	%manufacturer = Rockwell International
	@description =  A nearly flat plate, for adapting the top of the AARDV cargo module to the docking nose.
	@mass = 0.04
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

//	============================================================================
//	LEM
//	============================================================================

@PART[bluedog_LM_Ascent_Cockpit]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Lunar Module Ascent Stage
	@description = Ascent Stage for the Apollo Lunar Module
	%manufacturer = Grumman
	@mass = 1.984 //1.786
	%maxTemp = 673.15
	%skinMaxTemp = 773.15

	!EFFECTS,* {}
	!RESOURCE,* {}
	!MODULE[ModuleB9PartSwitch]:HAS[#moduleID[configSwitch]] {}
	!MODULE[ModuleBdbRotateInternal] {}

	@MODULE[ModuleCommand]
	{
		RESOURCE
		{
			name = ElectricCharge
			rate = 1.525
		}
		@minimumCrew = 0
	}

	@MODULE[ModuleSAS]
	{
		@SASServiceLevel = 3
	}

	@MODULE[ModuleRCS*]
	{
		%stagingEnabled = True
		%resourceFlowMode = STACK_PRIORITY_SEARCH
		%thrusterPower = 0.445
		!resourceName = DELETE
		PROPELLANT
		{
			name = Aerozine50
			ratio = 0.4537
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.5463
		}
		PROPELLANT
		{
			name = Helium
			ratio = 10.0
			ignoreForIsp = True
		}
		!atmosphereCurve,* {}
		atmosphereCurve
		{
			key,0 = 0 278
			key,1 = 1 168
		}
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 2463.7
		basemass = -1
		TANK
		{
			name = ElectricCharge
			amount = 59675
			maxAmount = 59675
		}
		TANK
		{
			name = Aerozine50
			amount = 1124.6
			maxAmount = 1124.6
		}
		TANK
		{
			name = NTO
			amount = 1139.9
			maxAmount = 1139.9
		}
		TANK
		{
			name = Helium
			amount = 27828.3
			maxAmount = 27828.3
		}
	}
}

@INTERNAL[Lunar]:BEFORE[RealismOverhaul]
{
	%scaleAll = 1.553, 1.553, 1.553
	@MODEL,*
	{
		%rotation = 0.0, 0.0, 180.0
	}
	@MODULE[InternalSeat],*
	{
		%kerbalScale = 1.25, 1.25, 1.25
		%kerbalOffset = 0.0, 0.0, 0.0
		%kerbalEyeOffset = 0.0, 0.0, 0.0
	}
}

@PART[bluedog_LM_Ascent_Cockpit]:BEFORE[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}
	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 1.5
		RFBand = UHF
	}
}

@PART[bluedog_LM_Descent_Tanks]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Lunar Module Descent Stage
	@description = Descent Stage for the Apollo Lunar Module
	%manufacturer = Grumman
	@mass = 1.5
	%maxTemp = 673.15
	%skinMaxTemp = 773.15

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 8163
		basemass = -1
		TANK
		{
			name = ElectricCharge
			amount = 161280
			maxAmount = 201600
		}
		TANK
		{
			name = Aerozine50
			amount = 3544
			maxAmount = 3791
		}
		TANK
		{
			name = NTO
			amount = 3520
			maxAmount = 3765
		}
		TANK
		{
			name = Helium
			amount = 75231.6
			maxAmount = 80471.4
		}
	}
}

@PART[bluedog_LM_Descent_Leg]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Lunar Module Leg
	@description = Landing Legs for the Apollo Lunar Module
	%manufacturer = Grumman
	@mass = 0.0815
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}

@PART[bluedog_LM_Descent_Separator]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%rescaleFactor = 1.553

	@title = Lunar Module Decoupler
	@description = Decoupler for the Apollo Lunar Module Ascent/Descent Module
	%manufacturer = Grumman
	@mass = 0.015
	%maxTemp = 673.15
	%skinMaxTemp = 773.15
}